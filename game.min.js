const t=Matter.Engine,e=Matter.World,o=Matter.Bodies,n=Matter.Events;const r=t.create();const i=r.world;i.gravity.x=0;i.gravity.y=0;const s=window.innerWidth;const a=window.innerHeight;const d=Matter.Render.create({element:document.body,engine:r,options:{width:s,height:a,wireframes:false,background:"#FFF5E4"}});const l=o.circle(s/2-7,a/2,window.innerWidth/4-10,{isSensor:true,isStatic:true,render:{fillStyle:"rgb(180, 240, 228)",strokeStyle:"transparent"}});e.add(i,l);const c=o.circle(s/2-7,a/2,window.innerWidth/8,{isSensor:true,isStatic:true,render:{fillStyle:"rgb(230, 148, 148)",strokeStyle:"transparent"}});e.add(i,c);const y=o.circle(s/2,a/2,window.innerWidth/12,{restitution:.5,render:{fillStyle:"rgb(200, 200, 225)",strokeStyle:"transparent"}});e.add(i,y);const m=o.circle(Math.random()*s,Math.random()*a,window.innerWidth/18,{restitution:.5,render:{fillStyle:"rgb(255, 209, 209)",strokeStyle:"transparent"}});e.add(i,m);let p=0;let u=Date.now();let M=0;let f=0;const h=.04;let b=h;let w=.12;let S=.005;const g=.02;const v=.023;const B=document.createElement("div");B.style.position="absolute";B.style.top="200px";B.style.left="50%";B.style.transform="translateX(-50%)";B.style.fontSize="72px";B.style.color="black";B.style.fontFamily="palatinoooo, serif;";document.body.appendChild(B);n.on(r,"collisionStart",t=>{const e=t.pairs;for(let t=0;t<e.length;t++){const o=e[t];if(o.bodyA===m&&o.bodyB===c||o.bodyA===c&&o.bodyB===m){p=0}}});document.addEventListener("mousemove",t=>{Matter.Body.setPosition(y,{x:t.clientX,y:t.clientY})});document.addEventListener("touchmove",t=>{t.preventDefault();const e=t.touches[0];Matter.Body.setPosition(y,{x:e.clientX,y:e.clientY})});Matter.Events.on(r,"beforeUpdate",t=>{B.textContent="Score: "+Math.floor(M);const e=Matter.Vector.sub(c.position,m.position);Matter.Body.applyForce(m,m.position,Matter.Vector.mult(Matter.Vector.normalise(e),b));if(Math.random()<S&&M>10){console.log("random force");const o=Math.random()*(v-g)+g;const n=Math.random()*(v-g)+g;const r={x:o,y:n};Matter.Body.applyForce(m,m.position,r,b*10)}if(Matter.Bounds.contains(c.bounds,m.position)){p+=(t.timestamp-f)/1e3;if(p>3){console.log("Game Over! score:",M,b);u=Date.now();p=0;M=0;b=h;Matter.Body.setPosition(m,{x:Math.random()*s,y:Math.random()*a})}}if(Matter.Bounds.contains(l.bounds,m.position)&&!Matter.Bounds.contains(c.bounds,m.position)){M+=w}f=t.timestamp;b+=1e-4});t.run(r);Matter.Render.run(d);